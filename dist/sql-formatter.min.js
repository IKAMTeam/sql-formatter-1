!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.sqlFormatter=e():t.sqlFormatter=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(13),s=(i(r),n(35)),o=i(s);e.default={format:function(t,e){return new o.default(e).format(t)}},t.exports=e.default},function(t,e,n){var i=n(18),r="object"==typeof self&&self&&self.Object===Object&&self,s=i||r||Function("return this")();t.exports=s},function(t,e,n){function i(t){return null==t?void 0===t?u:a:h&&h in Object(t)?s(t):o(t)}var r=n(9),s=n(56),o=n(64),a="[object Null]",u="[object Undefined]",h=r?r.toStringTag:void 0;t.exports=i},function(t,e,n){function i(t,e){var n=s(t,e);return r(n)?n:void 0}var r=n(46),s=n(58);t.exports=i},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function i(t){return null!=t&&s(t.length)&&!r(t)}var r=n(25),s=n(26);t.exports=i},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e){"use strict";e.__esModule=!0,e.default={WHITESPACE:"whitespace",WORD:"word",STRING:"string",RESERVED:"reserved",RESERVED_TOPLEVEL:"reserved-toplevel",RESERVED_NEWLINE:"reserved-newline",OPERATOR:"operator",OPEN_PAREN:"open-paren",CLOSE_PAREN:"close-paren",LINE_COMMENT:"line-comment",BLOCK_COMMENT:"block-comment",NUMBER:"number",PLACEHOLDER:"placeholder"},t.exports=e.default},function(t,e,n){var i=n(1),r=i.Symbol;t.exports=r},function(t,e,n){function i(t){return null==t?"":r(t)}var r=n(17);t.exports=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){n(this,t),this.params=e,this.index=0}return t.prototype.get=function(t){var e=t.key,n=t.value;return this.params?e?this.params[e]:this.params[this.index++]:n},t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n(71),o=i(s),a=n(70),u=i(a),h=n(8),l=i(h),E=function(){function t(e){r(this,t),this.WHITESPACE_REGEX=/^(\s+)/,this.NUMBER_REGEX=/^((-\s*)?[0-9]+(\.[0-9]+)?|0x[0-9a-fA-F]+|0b[01]+)\b/,this.OPERATOR_REGEX=/^(!=|<>|==|<=|>=|!<|!>|\|\||::|->>|->|~~\*|~~|!~~\*|!~~|~\*|!~\*|!~|:=|.)/,this.BLOCK_COMMENT_REGEX=/^(\/\*[^]*?(?:\*\/|$))/,this.LINE_COMMENT_REGEX=this.createLineCommentRegex(e.lineCommentTypes),this.RESERVED_TOPLEVEL_REGEX=this.createReservedWordRegex(e.reservedToplevelWords),this.RESERVED_NEWLINE_REGEX=this.createReservedWordRegex(e.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=this.createReservedWordRegex(e.reservedWords),this.WORD_REGEX=this.createWordRegex(e.specialWordChars),this.STRING_REGEX=this.createStringRegex(e.stringTypes),this.OPEN_PAREN_REGEX=this.createParenRegex(e.openParens),this.CLOSE_PAREN_REGEX=this.createParenRegex(e.closeParens),this.INDEXED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.namedPlaceholderTypes,this.createStringPattern(e.stringTypes))}return t.prototype.createLineCommentRegex=function(t){return RegExp("^((?:"+t.map(function(t){return(0,u.default)(t)}).join("|")+").*?(?:\n|$))")},t.prototype.createReservedWordRegex=function(t){var e=t.join("|").replace(/ /g,"\\s+");return RegExp("^("+e+")\\b","i")},t.prototype.createWordRegex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return RegExp("^([\\w"+t.join("")+"]+)")},t.prototype.createStringRegex=function(t){return RegExp("^("+this.createStringPattern(t)+")")},t.prototype.createStringPattern=function(t){var e={"``":"((`[^`]*($|`))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^N'\\\\]*(?:\\\\.[^N'\\\\]*)*('|$))+)"};return t.map(function(t){return e[t]}).join("|")},t.prototype.createParenRegex=function(t){var e=this;return RegExp("^("+t.map(function(t){return e.escapeParen(t)}).join("|")+")","i")},t.prototype.escapeParen=function(t){return 1===t.length?(0,u.default)(t):"\\b"+t+"\\b"},t.prototype.createPlaceholderRegex=function(t,e){if((0,o.default)(t))return!1;var n=t.map(u.default).join("|");return RegExp("^((?:"+n+")(?:"+e+"))")},t.prototype.tokenize=function(t){for(var e=[],n=void 0;t.length;)n=this.getNextToken(t,n),t=t.substring(n.value.length),e.push(n);return e},t.prototype.getNextToken=function(t,e){return this.getWhitespaceToken(t)||this.getCommentToken(t)||this.getStringToken(t)||this.getOpenParenToken(t)||this.getCloseParenToken(t)||this.getPlaceholderToken(t)||this.getNumberToken(t)||this.getReservedWordToken(t,e)||this.getWordToken(t)||this.getOperatorToken(t)},t.prototype.getWhitespaceToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.WHITESPACE,regex:this.WHITESPACE_REGEX})},t.prototype.getCommentToken=function(t){return this.getLineCommentToken(t)||this.getBlockCommentToken(t)},t.prototype.getLineCommentToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})},t.prototype.getBlockCommentToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})},t.prototype.getStringToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.STRING,regex:this.STRING_REGEX})},t.prototype.getOpenParenToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})},t.prototype.getCloseParenToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})},t.prototype.getPlaceholderToken=function(t){return this.getIdentNamedPlaceholderToken(t)||this.getStringNamedPlaceholderToken(t)||this.getIndexedPlaceholderToken(t)},t.prototype.getIdentNamedPlaceholderToken=function(t){return this.getPlaceholderTokenWithKey({input:t,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:function(t){return t.slice(1)}})},t.prototype.getStringNamedPlaceholderToken=function(t){var e=this;return this.getPlaceholderTokenWithKey({input:t,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:function(t){return e.getEscapedPlaceholderKey({key:t.slice(2,-1),quoteChar:t.slice(-1)})}})},t.prototype.getIndexedPlaceholderToken=function(t){return this.getPlaceholderTokenWithKey({input:t,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:function(t){return t.slice(1)}})},t.prototype.getPlaceholderTokenWithKey=function(t){var e=t.input,n=t.regex,i=t.parseKey,r=this.getTokenOnFirstMatch({input:e,regex:n,type:l.default.PLACEHOLDER});return r&&(r.key=i(r.value)),r},t.prototype.getEscapedPlaceholderKey=function(t){var e=t.key,n=t.quoteChar;return e.replace(RegExp((0,u.default)("\\")+n,"g"),n)},t.prototype.getNumberToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.NUMBER,regex:this.NUMBER_REGEX})},t.prototype.getOperatorToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.OPERATOR,regex:this.OPERATOR_REGEX})},t.prototype.getReservedWordToken=function(t,e){if(!e||!e.value||"."!==e.value)return this.getToplevelReservedToken(t)||this.getNewlineReservedToken(t)||this.getPlainReservedToken(t)},t.prototype.getToplevelReservedToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.RESERVED_TOPLEVEL,regex:this.RESERVED_TOPLEVEL_REGEX})},t.prototype.getNewlineReservedToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})},t.prototype.getPlainReservedToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.RESERVED,regex:this.RESERVED_PLAIN_REGEX})},t.prototype.getWordToken=function(t){return this.getTokenOnFirstMatch({input:t,type:l.default.WORD,regex:this.WORD_REGEX})},t.prototype.getTokenOnFirstMatch=function(t){var e=t.input,n=t.type,i=t.regex,r=e.match(i);if(r)return{type:n,value:r[1]}},t}();e.default=E,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n(33),o=i(s),a=n(12),u=i(a),h=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","SELECT","ZONE","AND","WHERE","OR"],l=["ADD","ALTER COLUMN","ALTER TABLE","CONNECT BY","USING","DECLARE","DELETE FROM","DELETE","MERGE","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","SET","HAVING","INSERT INTO","INTO","INSERT","INTERSECT","LIMIT","LOOP","MODIFY","CROSS JOIN","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","ORDER BY","SELECT","START WITH","UNION ALL","UNION","VALUES","WHERE","UPDATE"],E=["CROSS APPLY","ELSE","END","JOIN","OUTER APPLY","THEN","WHEN","UNION"],d=void 0,f=function(){function t(e){r(this,t),this.cfg=e}return t.prototype.format=function(t){return d||(d=new u.default({reservedWords:h,reservedToplevelWords:l,reservedNewlineWords:E,stringTypes:['""',"N''","''","``"],openParens:["(","CASE","BEGIN"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"]})),new o.default(this.cfg,d,h).format(t)},t.prototype.getFormatArray=function(t){return d||(d=new u.default({reservedWords:h,reservedToplevelWords:l,reservedNewlineWords:E,stringTypes:['""',"N''","''","``"],openParens:["(","CASE","BEGIN"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"]})),new o.default(this.cfg,d,h).getFormatArray(t)},t}();e.default=f,t.exports=e.default},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}t.exports=n},function(t,e,n){function i(t,e,n){return e===e?o(t,e,n):r(t,s,n)}var r=n(43),s=n(45),o=n(66);t.exports=i},function(t,e,n){function i(t){if(!r(t))return s(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}var r=n(20),s=n(62),o=Object.prototype,a=o.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){if("string"==typeof t)return t;if(o(t))return s(t,i)+"";if(a(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var r=n(9),s=n(14),o=n(5),a=n(27),u=1/0,h=r?r.prototype:void 0,l=h?h.toString:void 0;t.exports=i},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t,e){var n=typeof t;return e=null==e?i:e,!!e&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&e>t}var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||i;return t===n}var i=Object.prototype;t.exports=n},function(t,e){function n(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var i=Function.prototype,r=i.toString;t.exports=n},function(t,e,n){function i(t,e,n,i){t=s(t)?t:u(t),n=n&&!i?a(n):0;var l=t.length;return 0>n&&(n=h(l+n,0)),o(t)?l>=n&&t.indexOf(e,n)>-1:!!l&&r(t,e,n)>-1}var r=n(15),s=n(6),o=n(72),a=n(30),u=n(77),h=Math.max;t.exports=i},function(t,e,n){var i=n(44),r=n(4),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(t){return r(t)&&o.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var i=n(1),r=n(74),s="object"==typeof e&&e&&!e.nodeType&&e,o=s&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===s,u=a?i.Buffer:void 0,h=u?u.isBuffer:void 0,l=h||r;t.exports=l}).call(e,n(32)(t))},function(t,e,n){function i(t){if(!s(t))return!1;var e=r(t);return e==a||e==u||e==o||e==h}var r=n(2),s=n(7),o="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",h="[object Proxy]";t.exports=i},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&i>=t}var i=9007199254740991;t.exports=n},function(t,e,n){function i(t){return"symbol"==typeof t||s(t)&&r(t)==o}var r=n(2),s=n(4),o="[object Symbol]";t.exports=i},function(t,e,n){var i=n(47),r=n(51),s=n(63),o=s&&s.isTypedArray,a=o?r(o):i;t.exports=a},function(t,e,n){function i(t,e,n){return e=(n?s(t,e,n):void 0===e)?1:o(e),r(a(t),e)}var r=n(48),s=n(60),o=n(30),a=n(10);t.exports=i},function(t,e,n){function i(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}var r=n(75);t.exports=i},function(t,e,n){function i(t,e,n){if(t=u(t),t&&(n||void 0===e))return t.replace(h,"");if(!t||!(e=r(e)))return t;var i=a(t),l=o(i,a(e))+1;return s(i,0,l).join("")}var r=n(17),s=n(53),o=n(54),a=n(67),u=n(10),h=/\s+$/;t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n(22),o=(i(s),n(31)),a=i(o),u=n(8),h=i(u),l=n(11),E=i(l),d=n(29),f=i(d),p=function(){function t(e,n,i){r(this,t),this.cfg=e||{},this.params=new E.default(this.cfg.params),this.tokenizer=n,this.previousReservedWord={},this.tokens=[],this.index=0,this.reservedWords=i,this.inlineReservedWord=["order","group"],this.indents=[],this.lines=[""],this.startBlock=["select","begin","create","alter","insert","update","drop","merge"],this.logicalOperators=["or","xor","and"]}return t.prototype.format=function(t){this.query=t,this.tokens=this.tokenizer.tokenize(t);this.formatQuery();return this.lines.join("\n").trim()},t.prototype.getFormatArray=function(t){return this.query=t,this.tokens=this.tokenizer.tokenize(t),this.formatQuery(),this.lines},t.prototype.formatQuery=function(){for(var t=0;this.tokens.length>t;t++){var e=this.tokens[t];e.value=this.formatTextCase(e),e.type===h.default.WHITESPACE?this.getLastString().endsWith(" ")||this.getLastString().endsWith("(")||(this.lines[this.lastIndex()]+=" "):e.type===h.default.LINE_COMMENT?this.formatLineComment(e):e.type===h.default.BLOCK_COMMENT?this.formatBlockComment(e):e.type===h.default.RESERVED_TOPLEVEL?(this.formatTopLeveleReservedWord(e),this.previousReservedWord=e):e.type===h.default.RESERVED_NEWLINE?(this.formatNewlineReservedWord(e),this.previousReservedWord=e):this.logicalOperators.includes(e.value)?this.formatLogicalOperators(e):e.type===h.default.RESERVED?(this.formatWithSpaces(e),this.previousReservedWord=e):e.type===h.default.OPEN_PAREN?this.formatOpeningParentheses(e):e.type===h.default.CLOSE_PAREN?this.formatClosingParentheses(e):e.type===h.default.PLACEHOLDER?this.formatPlaceholder(e):","===e.value?this.formatComma(e):":"===e.value?this.formatWithSpaceAfter(e):"."===e.value||"%"===e.value?this.formatWithoutSpaces(e):";"===e.value?this.formatQuerySeparator(e):this.formatWithSpaces(e)}for(var n=0;this.lines.length>n;n++)this.lines[n]=this.formatLineByLength(this.lines[n])},t.prototype.formatLogicalOperators=function(t){this.trimEndLastString();var e=this.getLastString();")"==e.trim()&&(this.lines[this.lastIndex()-1]+=")",this.lines.pop(),e=this.getLastString());var n=e.trim().split(" "),i=this.getLogicalIndent(t.value,n[0]);if(this.logicalOperators.includes(n[0])&&n[1].startsWith("(")&&!n[n.length-1].endsWith(")"))this.lines[this.lastIndex()]+=" ";else if(e.includes(" on ")&&!e.includes(" join ")){var r=e.split(/ and | or | xor /);if(r.length>3){var s=e.indexOf("on ")+4;this.lines[this.lastIndex()]=r[0],e=e.substring(e.indexOf(r[0])+r[0].length);for(var o=1;r.length>o;o++){this.lines.push((0,f.default)(" ",s));var a=e.trim().split(" ")[0];3>a.length&&(this.lines[this.lastIndex()]+=(0,f.default)(" ",3-a.length)),this.lines[this.lastIndex()]+=a+" "+r[o],e=e.substring(e.indexOf(r[o])+r[o].length)}this.lines.push((0,f.default)(" ",s))}else this.lines[this.lastIndex()]+=" "}else""!=e.trim()&&i>0&&this.lines.push((0,f.default)(" ",i));this.lines[this.lastIndex()]+=t.value},t.prototype.getLogicalIndent=function(t,e){var n=0;return this.logicalOperators.includes(e)?(n=this.getLastString().length-this.getLastString().trim().length,n+e.length-t.length):this.getLastString().includes(" when ")?this.getLastString().indexOf("when")+4-t.length:this.getLastString().includes(" on(")||this.getLastString().includes(" on ")?(n=this.getLastString().indexOf(" on("),n==-1&&(n=this.getLastString().indexOf(" on ")),n+3-t.length):(this.addNewLine("right",t),-1)},t.prototype.formatComma=function(t){var e=this.getLastString();this.inlineReservedWord.includes(e.trim().split(" ")[0])?this.formatCommaInlineReservedWord(e,t):(this.trimEndLastString(),this.lines[this.lastIndex()]+=t.value,this.addNewLine("left",t.value))},t.prototype.formatCommaInlineReservedWord=function(t,e){var n=t.split(",");if(t.split(",").length>2){this.lines[this.lastIndex()]=(0,a.default)(n[0])+",",this.indents[this.indents.length-1].indent+=1,this.indents[this.indents.length-1].token.value="order by",this.addNewLine("left",",");for(var i=1;n.length>i;i++)this.lines[this.lastIndex()]+=n[i].trim()+",",this.addNewLine("left",",")}else this.trimEndLastString(),this.lines[this.lastIndex()]+=e.value},t.prototype.formatTopLeveleReservedWord=function(t){this.startBlock.includes(t.value.split(" ")[0])?(this.getLastString().includes("union")?this.addNewLine("right",t.value):""!=this.getLastString().trim()&&this.getLastString().trim().endsWith(")")&&this.addNewLine("right",t.value),this.indents.push({token:t,indent:this.getLastString().length})):this.addNewLine("right",t.value),this.lines[this.lastIndex()]+=t.value},t.prototype.formatTextCase=function(t){return null!=t.value.match("^'.*'$|^util.*|^pkg_.*")||t.type===h.default.BLOCK_COMMENT||t.type===h.default.LINE_COMMENT||t.value.includes("'")?t.value:t.value.toLowerCase()},t.prototype.addNewLine=function(t,e){")"==this.getLastString().trim()?(this.lines.pop(),this.lines[this.lastIndex()]+=")"):this.trimEndLastString();var n=this.getCurrentIndent(t,e);""==this.getLastString().trim()?this.lines[this.lastIndex()]=(0,f.default)(" ",n):this.lines.push((0,f.default)(" ",n))},t.prototype.formatLineByLength=function(t){var e=this.query,n=60,i=t.trim();if(i.trim().length<n)return t;var r=i[0];"("==r&&(i=i.substring(1).trim());for(var s=0,o=i.split(/\(|\)| |,/),a=o[s];this.reservedWords.includes(a);){if(s++,s==o.length)return t;a=o[s]}var u=this.getWordInOneStyle(i),h=this.getOriginStringStartIndex(a,u);if(h==-1)return t;var l=this.getOriginSubstring(u);"("==r&&(l=r+l);var E=this.getOriginSubstringIndent(e,l),d=this.getLineIndent(t);return this.query=this.query.substring(l.length),this.formatOriginSubstringWithIndent(d,E,l)},t.prototype.getLineIndent=function(t){var e=0;for(e;t.length>e;e++)if(" "!=t[e])return e;return e},t.prototype.formatOriginSubstringWithIndent=function(t,e,n){var i=n.split("\n");i[0]=void 0==i[0].match(/'/g)||i[0].match(/'/g).length%2==0?(0,f.default)(" ",t)+i[0].trim():(0,f.default)(" ",t)+this.trimStart(i[0]);for(var r=void 0!=i[0].match(/'/g)&&i[0].match(/'/g)%2==1,s=1;i.length>s;s++){var o=i[s].match(/'/g);if(r)i[s]=i[s],void 0!=o&&o.length%2==1&&(r=!1);else if(void 0==o)i[s]=(0,f.default)(" ",t)+i[s].trim();else{o.length%2==1&&(r=!0);var a=this.getLineIndent(i[s]);i[s]=(0,f.default)(" ",t-e+a)+this.trimStart(i[s])}}return i.join("\n")},t.prototype.trimStart=function(t){for(;" "==t[0];)t=t.substring(1);return t},t.prototype.getOriginSubstringIndent=function(t,e){for(var n=t.indexOf(e),i=t.substring(0,n),r=0,s=i.length-1;s>=0;s--){if(" "!=i[s])return r;r++}return r},t.prototype.getOriginSubstring=function(t){for(var e="",n=t.split(" ").length,i=0;this.getWordInOneStyle(e).split(" ").length!=n&&this.query.length>i;)e+=this.query[i],i++;return e},t.prototype.getOriginStringStartIndex=function(t,e){var n=this.query.indexOf(t);for(this.query=this.query.substring(n);n!=this.getWordInOneStyle(this.query).indexOf(e)&&n!=-1;)n=this.query.indexOf(t),this.query=this.query.substring(n+1);return n},t.prototype.getWordInOneStyle=function(t){return t.replaceAll("("," ( ").replaceAll(")"," ) ").replaceAll(","," , ").replaceAll("="," = ").replaceAll("--"," -- ").replaceAll(/(\s|\n)+/g," ")},t.prototype.getCurrentIndent=function(t,e){var n=this.indents[this.indents.length-1];if(void 0==n)return void this.lines.push("");var i=n.indent;if("right"==t){var r=n.token.value.split(" ")[0].trim().length-e.split(" ")[0].trim().length;0>r&&(r=0),")"==e&&(r=-1),i+=r}else i+=n.token.value.length+1;return i},t.prototype.formatBlockComment=function(t){this.resolveAddLineInCommentsBlock(t);var e=this.getLastString().length+2,n=t.value,i=n.split("\n");n=i[0];for(var r=1;i.length>r;r++)n+=i[r].trim().startsWith("*")?"\n"+(0,f.default)(" ",e+1):"\n"+(0,f.default)(" ",e),n+=i[r];this.lines[this.lastIndex()]+=n,this.addNewLine("left",t.value)},t.prototype.resolveAddLineInCommentsBlock=function(t){var e=this.getLastString().trim(),n=e.split(/\(|\)| /),i=n[n.length-1];this.reservedWords.includes(i.toUpperCase())&&!i.endsWith(";")||this.addNewLine("left",t.value)},t.prototype.formatLineComment=function(t){for(var e=this.query.split("\n"),n=!1,i=0;e.length>i;i++)if(e[i].includes(t.value.trim())&&e[i].trim()==t.value.trim()){n=!0;break}if(this.query=this.query.substring(this.query.indexOf(t.value)+t.value.length),n){var r=this.getCurrentIndent("right","");this.lines.push((0,f.default)(" ",r+1)+t.value),this.addNewLine("left","")}else{var s=this.getLastString();this.lines[this.lastIndex()]+=t.value,this.addNewLine("right",""),s.trim().endsWith("then")&&(this.lines[this.lastIndex()]+=(0,f.default)(" ",6))}},t.prototype.formatNewlineReservedWord=function(t){var e=this.getLastString();e.includes("case")&&!e.includes("when")||(e.trim().split(" ").length>1||")"==e.trim()&&(!e.includes("case")||e.includes("when")))&&this.addNewLine("left",t.value),this.lines[this.lastIndex()]+=t.value},t.prototype.formatOpeningParentheses=function(t){var e=this.getLastString().trim().split(" "),n=this.getLastString().trim().toUpperCase();"case"==t.value&&this.getLastString().trim().endsWith("select")||("("==t.value||"case"==t.value||this.reservedWords.includes(n)?this.reservedWords.includes(e[e.length-1].trim().toUpperCase())&&(this.getLastString().endsWith(" ")||(this.lines[this.lastIndex()]+=" ")):this.addNewLine("left",t.value)),this.indents.push({token:t,indent:this.getLastString().length}),this.lines[this.lastIndex()]+=t.value},t.prototype.formatClosingParentheses=function(t){")"==t.value?(this.trimEndLastString(),null!=this.getLastString().match(/\)/)&&this.addNewLine("right",t.value),this.checkCloseBkt()):this.addNewLine("right",t.value),this.indents.pop(),this.lines[this.lastIndex()]+=t.value},t.prototype.checkCloseBkt=function(){for(var t=1,e="",n=0,i=0,r=this.lastIndex();r>=0;r--){for(var s=this.lines[r],o=s.length-1;o>=0;o--)if(")"==s[o]?t++:"("==s[o]&&t--,0==t){i=o,e=s.substring(i);for(var a=r+1;this.lines.length>a;a++)e+=" "+this.lines[a].trim();n=r;break}if(0==t)break}var u=this.lines[n].replaceAll(/\(|\)/g," ").trim().split(" ")[0].trim(),h=e.trim().split(" ")[0].replace(/\(/,"").trim();if(this.startBlock.includes(h))this.indents.pop();else if("with"==h){var l=e.match(/(\s|\n)union(\s|\n)/),E=1;void 0!=l&&(E+=l.length);for(var d=0;E>d;d++)this.indents.pop()}else if("insert"==u||"values"==u)if("values"==u&&(this.lines[n]=this.lines[n].replace("values(","values (")),e.split(",").length>3||e.length>30){if(this.removeLines(n),"values"==u){var p=this.lines[this.lastIndex()-1];this.lines[this.lastIndex()-1]=p.substring(0,p.length-2),this.lines[n]=this.lines[n].replace("values",") values")}var c=this.lines[this.lastIndex()].indexOf(u);this.lines[n]=this.lines[n].substring(0,this.lines[n].indexOf("(",c+1)+1);var T=e.split(", ");T[0]=T[0].substring(1);for(var I=this.indents[this.indents.length-2].indent,R=0;T.length>R;R++)this.lines.push((0,f.default)(" ",I+4)+T[R].trim()+",")}else this.addSubstringInLine(i,n,e);else this.reservedWords.includes(h)||null!=e.match(/.* (and|or|xor|not) .*/)||this.addSubstringInLine(i,n,e)},t.prototype.addSubstringInLine=function(t,e,n){var i=n.split("\n");n="";for(var r=0;i.length>r;r++)n+=i[r].trim()+" ";this.lines[e]=(0,a.default)(this.lines[e].substring(0,t)+n),this.removeLines(e)},t.prototype.removeLines=function(t){for(var e=this.lines.length,n=t+1;e>n;n++)this.lines.pop()},t.prototype.formatPlaceholder=function(t){this.lines[this.lastIndex()]+=this.params.get(t)+" "},t.prototype.formatWithSpaceAfter=function(t){this.trimTrailingWhitespace(),this.lines[this.lastIndex()]+=t.value+" "},t.prototype.formatWithoutSpaces=function(t){this.trimTrailingWhitespace(),this.lines[this.lastIndex()]+=t.value},t.prototype.formatWithSpaces=function(t){t.value.endsWith(".")?this.lines[this.lastIndex()]+=t.value:this.lines[this.lastIndex()]+=t.value+" "},t.prototype.formatQuerySeparator=function(t){this.indents.pop(),this.trimTrailingWhitespace(),this.lines[this.lastIndex()]+=t.value,this.addNewLine("left",t.value)},t.prototype.trimTrailingWhitespace=function(){this.trimEndLastString(),this.previousNonWhitespaceToken.type===h.default.LINE_COMMENT&&this.addNewLine("left","")},t.prototype.trimEndLastString=function(){this.lines[this.lastIndex()]=(0,a.default)(this.getLastString())},t.prototype.previousNonWhitespaceToken=function(){for(var t=1;this.previousToken(t).type===h.default.WHITESPACE;)t++;return this.previousToken(t)},t.prototype.previousToken=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.tokens[this.index-t]||{}},t.prototype.lastIndex=function(){return this.lines.length-1},t.prototype.getLastString=function(){return this.lines[this.lastIndex()]},t}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n(22),o=(i(s),n(31)),a=i(o),u=n(8),h=i(u),l=n(11),E=(i(l),n(29)),d=i(E),f=n(13),p=i(f),c=function(){function t(e,n,i,s){r(this,t),this.indentCount=0,this.tokenizer=n,this.tokens=[],this.reservedWords=i,this.withoutSpaces=[".","%","("],this.lines=[""],this.indent="    ",this.openParens=s,this.indentsKeyWords=[],this.lastIndentKey={key:"",name:"",indent:0},this.lineSize=80,this.booleanOperators=["and","or","xor"]}return t.prototype.format=function(t){this.query=t,this.tokens=this.tokenizer.tokenize(t);var e=this.formatQuery();return e.trim()},t.prototype.formatQuery=function(){for(var t=this.query,e=0;this.tokens.length>e;e++){var n=this.tokens[e];n.value=this.formatTextCase(n),n.value.startsWith(".")&&(this.lines[this.lastIndex()]=(0,a.default)(this.getLastString())),n.type===h.default.WHITESPACE?this.getLastString().endsWith(" ")||this.getLastString().endsWith("(")||""==this.getLastString().trim()||(this.lines[this.lastIndex()]+=" "):n.type===h.default.LINE_COMMENT?this.formatLineComment(n):n.type===h.default.BLOCK_COMMENT?this.formatBlockComment(n):n.type===h.default.RESERVED_NEWLINE?e=this.formatSqlQuery(e):n.type===h.default.OPEN_PAREN?this.formatOpeningParentheses(n,e):n.type===h.default.CLOSE_PAREN?this.formatClosingParentheses(n,e):n.type===h.default.PLACEHOLDER?this.formatPlaceholder(n):this.booleanOperators.includes(n.value)?this.formatBooleanExpressions(n):")"===n.value?this.formatCloseBkt(n):"begin"===n.value?this.formatBegin(n):"then"==n.value?this.formatThen(n):"loop"===n.value?this.formatLoop(n,e):","===n.value?this.formatComma(n):":"===n.value?this.formatWithSpaceAfter(n):this.withoutSpaces.includes(n.value)?this.formatWithoutSpaces(n):";"===n.value?this.formatQuerySeparator(n):n.value.startsWith("exception")?this.formatException(n,e):"else"==n.value?(this.lines[this.lastIndex()]=(0,d.default)(this.indent,this.indentCount-1)+n.value,this.addNewLine(this.indentCount)):"elsif"==n.value?this.lines[this.lastIndex()]=(0,d.default)(this.indent,this.indentCount-1)+n.value:"when"==n.value?this.formatWhen(n):"as"==n.value||"is"==n.value?this.formatAsIs(n):this.formatWithSpaces(n)}return this.addDevelopEmptyLines(t,this.lines.join("\n").trim())},t.prototype.formatBooleanExpressions=function(t){var e=this.indentsKeyWords[this.indentsKeyWords.length-1];"case"!=e.key&&"if"!=e.key||this.addNewLine(this.indentCount),
this.lines[this.lastIndex()]+=t.value},t.prototype.addDevelopEmptyLines=function(t,e){for(var n="",i=t.split("\n"),r=0;i.length>r;r++)if(""==i[r].trim()){for(var s=1;i.length>r&&""==i[r].trim();)s++,r++;s>1&&(n+="\n"),r--}else for(var o=0;i[r].length>o;o++){var a=i[r][o];if(" "!=a){var u=e.indexOf(a),h=e.indexOf(a.toLowerCase());0>u?u=h:u>h&&h!=-1&&(u=h);var l=e.substring(0,u+1);n+=l,e=e.substring(u+1)}}return this.removeDupticateEmptyLine(n)},t.prototype.removeDupticateEmptyLine=function(t){for(var e=t.split("\n"),n=e.length-1;n>=1;n--)if(""==e[n].trim()&&""==e[n-1].trim()){for(var i=n;e.length-1>i;i++)e[i]=e[i+1];e.pop()}return e.join("\n")},t.prototype.formatWhen=function(t){var e=this.indentsKeyWords[this.indentsKeyWords.length-1];void 0==e||"case"!=e.key||this.getLastString().trim().startsWith("case")||(this.indentCount--,this.lines[this.lastIndex()]=(0,d.default)(this.indent,this.indentCount)+" "),this.lines[this.lastIndex()]+=t.value},t.prototype.formatThen=function(t){this.lines[this.lastIndex()]+=t.value,this.getLastString().includes(" when ")&&this.indentCount++,this.addNewLine(this.indentCount)},t.prototype.formatLoop=function(t,e){var n=this.getNextValidWord(e);";"!=n?(this.addNewLine(this.indentCount),this.lines[this.lastIndex()]+=t.value,this.incrementIndent(t.value,""),this.addNewLine(this.indentCount)):this.lines[this.lastIndex()]+=t.value},t.prototype.formatBegin=function(t){var e=this.indentsKeyWords[this.indentsKeyWords.length-1],n=["cursor","procedure","function","pragma"];void 0!=e?n.includes(e.key)?(""!=this.getLastString().trim()?this.addNewLine(this.indentCount-1):this.lines[this.lastIndex()]=(0,d.default)(this.indent,this.indentCount-1),"procedure"!=e.key&&"function"!=e.key?this.indentsKeyWords.push({key:t.value,name:"",indent:this.indentCount}):this.indentsKeyWords[this.indentsKeyWords.length-1].key=t.value):this.incrementIndent(t.value,""):(""==this.getLastString().trim()||this.prevLineIsComment()||this.addNewLine(this.indentCount),this.incrementIndent(t.value,"")),this.lines[this.lastIndex()]+=t.value,this.addNewLine(this.indentCount)},t.prototype.formatCloseBkt=function(t){this.lines[this.lastIndex()]=(0,a.default)(this.getLastString())+t.value+" ";var e=this.getLastString(),n=e.match(/\(/),i=e.match(/\)/);if(void 0!=n&&void 0!=i){var r=this.getFirstWord(e);if(e.length>this.lineSize&&n.length==i.length&&this.openParens.includes(r.toUpperCase())&&"if"!=r){this.lines[this.lastIndex()]=e.substring(0,e.indexOf("(")+1);var s=e.substring(e.indexOf("(")+1).split(", ");this.lines.push((0,d.default)(this.indent,this.indentCount)+s[0]);for(var o=1;s.length>o;o++)this.lines[this.lastIndex()]+=",",this.lines.push((0,d.default)(this.indent,this.indentCount)+s[o])}}},t.prototype.getStartBktIndex=function(){for(var t=(0,a.default)(this.getLastString()),e=0,n=0,i=t.length-1;i>=0;i--)if("("==t[i]?e++:")"==t[i]&&n++,n==e)return i;return 0},t.prototype.formatException=function(t,e){var n=this.getNextValidWord(e);if(";"==n)return void(this.lines[this.lastIndex()]+=t.value);null!=this.getLastString().trim().match(/^return.*;$/)&&this.indentsKeyWords.push(this.lastIndentKey);var i=this.indentsKeyWords[this.indentsKeyWords.length-1],r=i.indent;this.indentCount=i.indent+1,""==this.getLastString().trim()?this.lines[this.lastIndex()]=(0,d.default)(this.indent,r):this.addNewLine(r),this.lines[this.lastIndex()]+=t.value,this.indentCount=i.indent+1,this.addNewLine(this.indentCount)},t.prototype.formatComma=function(t){this.lines[this.lastIndex()]=(0,a.default)(this.getLastString())+t.value+" "},t.prototype.formatPlaceholder=function(t){this.lines[this.lastIndex()]+=" "},t.prototype.formatWithSpaceAfter=function(t){this.lines[this.lastIndex()]=(0,a.default)(this.getLastString())+t.value+" "},t.prototype.formatAsIs=function(t){for(var e=!1,n="",i=this.lastIndex();i>=0;i--){var r=this.lines[i];if(!e){if(r.includes("*/")){e=!0;continue}if(""==r.trim())continue;if(r.includes(")")){n=this.getBktSubstring(i).substring+n;break}n=r+n;break}r.includes("/*")&&(e=!1)}var s=this.getFirstWord(n);"create"==s?(this.prevLineIsComment()||""==this.getLastString().trim()?this.lines[this.lastIndex()]=(0,d.default)(this.indent,this.indentCount-1):this.addNewLine(this.indentCount-1),this.lines[this.lastIndex()]+=t.value,this.addNewLine(this.indentCount)):"cursor"==s?(this.lines[this.lastIndex()]+=t.value,this.addNewLine(this.indentCount)):this.openParens.includes(s.toUpperCase())&&"if"!=s&&"elsif"!=s||this.getLastString().includes("return")&&!this.getLastString().endsWith(";")?((this.prevLineIsComment()||""==this.getLastString().trim())&&""==this.getLastString().trim()?this.lines[this.lastIndex()]=(0,d.default)(this.indent,this.indentCount-1):this.addNewLine(this.indentCount-1),this.lines[this.lastIndex()]+=t.value,this.addNewLine(this.indentCount)):this.lines[this.lastIndex()]+=t.value},t.prototype.formatQuerySeparator=function(t){this.lines[this.lastIndex()]=(0,a.default)(this.getLastString());var e=["cursor","procedure","function","pragma"],n=this.getFirstWord(this.getLastString());if(this.openParens.includes(n.toUpperCase())&&"if"!=n||this.getLastString().includes("return"))void 0!=this.indentsKeyWords[this.indentsKeyWords.length-1]&&e.includes(this.indentsKeyWords[this.indentsKeyWords.length-1].key)&&this.decrementIndent();else if(this.getLastString().endsWith(")")){var i=this.getBktSubstring(this.lastIndex()),r=i.substring;n=this.getFirstWord(r),this.openParens.includes(n.toUpperCase())&&"if"!=n&&this.decrementIndent()}this.lines[this.lastIndex()]+=t.value,this.addNewLine(this.indentCount)},t.prototype.getBktSubstring=function(t){for(var e=0,n=0,i="",r=0,s=[],o=t;o>=0;o--){s.unshift(this.lines[o]);var a=this.lines[o].replace(/--.*/,"");(a.startsWith("*")||a.startsWith("/*"))&&(a="");var u=a.match(/\(/);if(null!=u&&(e+=u.length),u=a.match(/\)/),null!=u&&(n+=u.length),i=a+i,e>=n){r=o;break}}return{substring:i,startIndex:r,subLines:s}},t.prototype.getFirstWord=function(t){var e=/ |\(|\)/;return t.trim().split(e)[0].trim()},t.prototype.formatWithSpaces=function(t){this.lines[this.lastIndex()]+=t.value+" "},t.prototype.formatWithoutSpaces=function(t){var e=this.getLastString().trim().split(" ");"("==t.value&&this.reservedWords.includes(e[e.length-1].trim().toUpperCase())?this.lines[this.lastIndex()]=this.getLastString()+t.value:this.lines[this.lastIndex()]=(0,a.default)(this.getLastString())+t.value},t.prototype.formatOpeningParentheses=function(t,e){var n=this.getNextValidWord(e);if(";"!=n){if(this.prevLineIsComment()||(""!=this.getLastString().trim()&&this.addNewLine(this.indentCount),this.addNewLine(this.indentCount)),"if"==t.value){for(;""==this.getLastString().trim();)this.lines.pop();this.addNewLine(this.indentCount)}this.incrementIndent(t.value,n),this.lines[this.lastIndex()]+=t.value}else this.lines[this.lastIndex()]+=t.value},t.prototype.getNextValidWord=function(t){var e=this.tokens[t+1];if(void 0!=e){if(""!=e.value.trim())return e.value;if(e=this.tokens[t+2],void 0!=e)return e.value}return""},t.prototype.decrementIndent=function(){this.lastIndentKey=this.indentsKeyWords.pop(),this.indentCount=this.lastIndentKey.indent},t.prototype.incrementIndent=function(t,e){this.indentsKeyWords.push({key:t,name:e,indent:this.indentCount}),this.indentCount++},t.prototype.formatClosingParentheses=function(t,e){var n=this.getNextValidWord(e),i=this.indentCount;if(";"==n||this.reservedWords.includes(n.toUpperCase()))this.decrementIndent();else for(var r=this.indentsKeyWords.length-1;r>=0;r--){var s=this.indentsKeyWords[r];if(s.name==n){this.indentCount=s.indent;break}this.decrementIndent()}""!=this.getLastString().trim()&&this.addNewLine(this.indentCount),i==this.indentCount?this.lines[this.lastIndex()]=(0,d.default)(this.indent,this.indentCount-1)+t.value:this.lines[this.lastIndex()]=(0,d.default)(this.indent,this.indentCount)+t.value},t.prototype.formatSqlQuery=function(t){var e=this.indentCount,n="",i=t,r=this.getPrevValidTokenValue(t);if("("==r){var s=0;for(i;this.tokens.length>i;i++){var o=this.tokens[i].value;if("("==o)s++,n+=o;else if(")"==o){if(0==s)break;n+=o,s--}else n+=o}}else for(i;this.tokens.length>i;i++){var a=this.tokens[i].value;if(";"==a)break;n+=a}i--;var u=new p.default(this.cfg).getFormatArray(n);this.getLastString().trim().endsWith("(")?this.insertSqlInThisLine(u):this.insertSqlInNewLine(u),this.indentCount=e;var h=this.getNextValidWord(i);return";"==h&&0!=this.indentsKeyWords.length&&"cursor"==this.indentsKeyWords[this.indentsKeyWords.length-1].key&&this.decrementIndent(),i},t.prototype.insertSqlInThisLine=function(t){var e=this.getLastString().length;this.lines[this.lastIndex()]+=t[0];for(var n=1;t.length>n;n++)this.lines.push((0,d.default)(" ",e)+t[n])},t.prototype.insertSqlInNewLine=function(t){for(;""==this.getLastString().trim()&&1!=this.lines.length;)this.lines.pop();for(var e=0;t.length>e;e++)""==this.getLastString().trim()&&this.lines.pop(),this.addNewLine(this.indentCount),this.lines[this.lastIndex()]+=t[e]},t.prototype.getPrevValidTokenValue=function(t){var e=this.tokens[t-1];if(void 0!=e){if(""!=e.value.trim())return e.value;if(e=this.tokens[t-2],void 0!=e)return e.value}return""},t.prototype.formatTopLeveleReservedWord=function(t){if(this.addNewLinePreviewReservedWord(t)&&this.addNewLine(this.indentCount),"elsif"==t.value&&this.lines[this.lastIndex()-1].includes("return")&&this.indentCount++,this.lines[this.lastIndex()]+=t.value,"is"==t.value||"as"==t.value){var e=this.lastIndex()-1,n=this.getFirstWord(this.lines[e]);"return"==n&&(this.indentCount++,this.lines[e]=this.indent+this.lines[e],this.addNewLine(this.indentCount))}},t.prototype.addNewLinePreviewReservedWord=function(t){return"end"!=this.getLastString().trim()&&"is"!=this.getLastString().trim()&&"then"!=t.value&&""!=this.getLastString().trim()&&!("as"==t.value&&this.getLastString().includes(" with "))},t.prototype.formatLineComment=function(t){for(var e=this.query.split("\n"),n=!1,i=0;e.length>i;i++)if(e[i].includes(t.value.trim())&&e[i].trim()==t.value.trim()){n=!0;break}this.query=this.query.substring(this.query.indexOf(t.value)+t.value.length),n?""==!this.getLastString().trim()&&this.addNewLine(this.indentCount):""==this.getLastString().trim()&&this.lines.pop(),this.getLastString().endsWith(" ")||(this.lines[this.lastIndex()]+=" "),this.lines[this.lastIndex()]+=t.value,this.addNewLine(this.indentCount)},t.prototype.formatBlockComment=function(t){this.prevLineIsComment()&&this.lines.push(""),this.addNewLine(this.indentCount);for(var e=t.value.split("\n"),n=0;e.length>n;n++)e[n].trim().startsWith("*")&&(this.lines[this.lastIndex()]+=" "),this.lines[this.lastIndex()]+=e[n].trim(),this.addNewLine(this.indentCount)},t.prototype.prevLineIsComment=function(){return 0!=this.lastIndex()&&this.lines[this.lastIndex()-1].endsWith("*/")},t.prototype.addNewLine=function(t){this.lines[this.lastIndex()]=(0,a.default)(this.getLastString()),this.lines.push(t>0?(0,d.default)(this.indent,t):"")},t.prototype.lastIndex=function(){return this.lines.length-1},t.prototype.getLastString=function(){return this.lines[this.lastIndex()]},t.prototype.formatTextCase=function(t){return null!=t.value.match("^'.*'$|^util.*|^pkg_.*")||t.type===h.default.BLOCK_COMMENT||t.type===h.default.LINE_COMMENT||t.value.startsWith("'")?t.value:t.value.toLowerCase()},t}();e.default=c,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=n(12),o=i(s),a=n(34),u=i(a),h=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE INTO","MIN","MINUS","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","SELECT","UNION","INSERT","EXCEPTION","ZONE","AND","OR","LOOP","TYPE","WITH","UNION","USING","ELSE","WHEN","THEN","ELSIF","ALTER","SELECT","INSERT","UPDATE","DROP","MERGE INTO","CREATE","BEGIN","FUNCTION","CURSOR","IF","FOR","PROCEDURE","WHILE","PRAGMA","CASE"],l=["TYPE","WITH","UNION","USING","ELSE","WHEN","THEN","ELSIF"],E=["ALTER","SELECT","INSERT","UPDATE","DROP","MERGE INTO"],d=["CREATE","FUNCTION","CURSOR","IF","PROCEDURE","CASE"],f=void 0,p=function(){function t(e){r(this,t),this.cfg=e}return t.prototype.format=function(t){return f||(f=new o.default({reservedWords:h,reservedToplevelWords:l,reservedNewlineWords:E,stringTypes:['""',"N''","''","``"],openParens:d,closeParens:["END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@","%"]})),new u.default(this.cfg,f,h,d).format(t)},t}();e.default=p,t.exports=e.default},function(t,e,n){var i=n(3),r=n(1),s=i(r,"DataView");t.exports=s},function(t,e,n){var i=n(3),r=n(1),s=i(r,"Map");t.exports=s},function(t,e,n){var i=n(3),r=n(1),s=i(r,"Promise");t.exports=s},function(t,e,n){var i=n(3),r=n(1),s=i(r,"Set");t.exports=s},function(t,e,n){var i=n(3),r=n(1),s=i(r,"WeakMap");t.exports=s},function(t,e,n){function i(t,e){var n=o(t),i=!n&&s(t),l=!n&&!i&&a(t),d=!n&&!i&&!l&&h(t),f=n||i||l||d,p=f?r(t.length,String):[],c=p.length;for(var T in t)!e&&!E.call(t,T)||f&&("length"==T||l&&("offset"==T||"parent"==T)||d&&("buffer"==T||"byteLength"==T||"byteOffset"==T)||u(T,c))||p.push(T);return p}var r=n(50),s=n(23),o=n(5),a=n(24),u=n(19),h=n(28),l=Object.prototype,E=l.hasOwnProperty;t.exports=i},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}t.exports=n},function(t,e,n){function i(t){return s(t)&&r(t)==o}var r=n(2),s=n(4),o="[object Arguments]";t.exports=i},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e,n){function i(t){if(!o(t)||s(t))return!1;var e=r(t)?p:h;return e.test(a(t))}var r=n(25),s=n(61),o=n(7),a=n(21),u=/[\\^$.*+?()[\]{}|]/g,h=/^\[object .+?Constructor\]$/,l=Function.prototype,E=Object.prototype,d=l.toString,f=E.hasOwnProperty,p=RegExp("^"+d.call(f).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},function(t,e,n){function i(t){return o(t)&&s(t.length)&&!!D[r(t)]}var r=n(2),s=n(26),o=n(4),a="[object Arguments]",u="[object Array]",h="[object Boolean]",l="[object Date]",E="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",c="[object Object]",T="[object RegExp]",I="[object Set]",R="[object String]",g="[object WeakMap]",L="[object ArrayBuffer]",N="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",S="[object Int8Array]",v="[object Int16Array]",C="[object Int32Array]",y="[object Uint8Array]",m="[object Uint8ClampedArray]",x="[object Uint16Array]",P="[object Uint32Array]",D={};D[A]=D[O]=D[S]=D[v]=D[C]=D[y]=D[m]=D[x]=D[P]=!0,D[a]=D[u]=D[L]=D[h]=D[N]=D[l]=D[E]=D[d]=D[f]=D[p]=D[c]=D[T]=D[I]=D[R]=D[g]=!1,t.exports=i},function(t,e){function n(t,e){var n="";if(!t||1>e||e>i)return n;do e%2&&(n+=t),e=r(e/2),e&&(t+=t);while(e);return n}var i=9007199254740991,r=Math.floor;t.exports=n},function(t,e){function n(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=t[i+e];return s}t.exports=n},function(t,e){function n(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}t.exports=n},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function i(t,e){return r(e,function(e){return t[e]})}var r=n(14);t.exports=i},function(t,e,n){function i(t,e,n){var i=t.length;return n=void 0===n?i:n,e||i>n?r(t,e,n):t}var r=n(49);t.exports=i},function(t,e,n){function i(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}var r=n(15);t.exports=i},function(t,e,n){var i=n(1),r=i["__core-js_shared__"];t.exports=r},function(t,e,n){function i(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[u]=n:delete t[u]),r}var r=n(9),s=Object.prototype,o=s.hasOwnProperty,a=s.toString,u=r?r.toStringTag:void 0;t.exports=i},function(t,e,n){var i=n(36),r=n(37),s=n(38),o=n(39),a=n(40),u=n(2),h=n(21),l="[object Map]",E="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",c="[object DataView]",T=h(i),I=h(r),R=h(s),g=h(o),L=h(a),N=u;(i&&N(new i(new ArrayBuffer(1)))!=c||r&&N(new r)!=l||s&&N(s.resolve())!=d||o&&N(new o)!=f||a&&N(new a)!=p)&&(N=function(t){var e=u(t),n=e==E?t.constructor:void 0,i=n?h(n):"";if(i)switch(i){case T:return c;case I:return l;case R:return d;case g:return f;case L:return p}return e}),t.exports=N},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e){function n(t){return l.test(t)}var i="\\ud800-\\udfff",r="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a=r+s+o,u="\\ufe0e\\ufe0f",h="\\u200d",l=RegExp("["+h+i+a+u+"]");t.exports=n},function(t,e,n){function i(t,e,n){if(!a(n))return!1;var i=typeof e;return!!("number"==i?s(n)&&o(e,n.length):"string"==i&&e in n)&&r(n[e],t)}var r=n(69),s=n(6),o=n(19),a=n(7);t.exports=i},function(t,e,n){function i(t){return!!s&&s in t}var r=n(55),s=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=i},function(t,e,n){var i=n(65),r=i(Object.keys,Object);t.exports=r},function(t,e,n){(function(t){var i=n(18),r="object"==typeof e&&e&&!e.nodeType&&e,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===r,a=o&&i.process,u=function(){try{var t=s&&s.require&&s.require("util").types;return t?t:a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u}).call(e,n(32)(t))},function(t,e){function n(t){return r.call(t)}var i=Object.prototype,r=i.toString;t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}t.exports=n},function(t,e,n){function i(t){return s(t)?o(t):r(t)}var r=n(42),s=n(59),o=n(68);t.exports=i},function(t,e){function n(t){return t.match(A)||[]}var i="\\ud800-\\udfff",r="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",a=r+s+o,u="\\ufe0e\\ufe0f",h="["+i+"]",l="["+a+"]",E="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+E+")",f="[^"+i+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",T="\\u200d",I=d+"?",R="["+u+"]?",g="(?:"+T+"(?:"+[f,p,c].join("|")+")"+R+I+")*",L=R+I+g,N="(?:"+[f+l+"?",l,p,c,h].join("|")+")",A=RegExp(E+"(?="+E+")|"+N+L,"g");t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function i(t){return t=r(t),t&&o.test(t)?t.replace(s,"\\$&"):t}var r=n(10),s=/[\\^$.*+?()[\]{}|]/g,o=RegExp(s.source);t.exports=i},function(t,e,n){function i(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||h(t)||E(t)||o(t)))return!t.length;var e=s(t);if(e==d||e==f)return!t.size;if(l(t))return!r(t).length;for(var n in t)if(c.call(t,n))return!1;return!0}var r=n(16),s=n(57),o=n(23),a=n(5),u=n(6),h=n(24),l=n(20),E=n(28),d="[object Map]",f="[object Set]",p=Object.prototype,c=p.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){return"string"==typeof t||!s(t)&&o(t)&&r(t)==a}var r=n(2),s=n(5),o=n(4),a="[object String]";t.exports=i},function(t,e,n){function i(t){return o(t)?r(t):s(t)}var r=n(41),s=n(16),o=n(6);t.exports=i},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function i(t){if(!t)return 0===t?t:0;if(t=r(t),t===s||t===-s){var e=0>t?-1:1;return e*o}return t===t?t:0}var r=n(76),s=1/0,o=1.7976931348623157e308;t.exports=i},function(t,e,n){function i(t){if("number"==typeof t)return t;if(s(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=h.test(t);return n||l.test(t)?E(t.slice(2),n?2:8):u.test(t)?o:+t}var r=n(7),s=n(27),o=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,l=/^0o[0-7]+$/i,E=parseInt;t.exports=i},function(t,e,n){function i(t){return null==t?[]:r(t,s(t))}var r=n(52),s=n(73);t.exports=i}])});